"use strict";(self.webpackChunkvidactiva=self.webpackChunkvidactiva||[]).push([[695],{1695:(ue,_,s)=>{s.r(_),s.d(_,{UsersModule:()=>ce});var p=s(6895),m=s(5197),h=s(5226),c=s.n(h),e=s(1571),u=s(4961),n=s(433);const v=["myForm"];function b(t,i){1&t&&(e.TgZ(0,"span",27),e._uU(1," Username is not Valid "),e.qZA())}function U(t,i){1&t&&(e.TgZ(0,"span",27),e._uU(1," Password is not Valid "),e.qZA())}const x=function(){return["/user/register"]};let T=(()=>{class t{constructor(o,r){this.service=o,this.route=r,this.isValid=!1,this.password=""}ngOnInit(){}notValid(o){return this.myForm?.controls[o]?.invalid&&this.myForm?.controls[o]?.touched}validatePasswordModerate(){return this.isValid=!/(?=(.*[0-9]))((?=.*[A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z]))^.{8,}$/.test(this.password)&&!this.myForm?.controls.password?.pristine,this.isValid}save(){console.log(this.myForm),console.log(this.myForm?.controls.username.value,this.myForm?.controls.password.value),this.service.login(this.myForm?.controls.username.value,this.myForm?.controls.password.value).subscribe(o=>{o?(c().fire("Good job!","You logged correctly!","success").then(()=>{window.location.reload()}),this.route.navigate(["/"])):c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"}),this.myForm.resetForm()})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.f),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],viewQuery:function(o,r){if(1&o&&e.Gf(v,5),2&o){let a;e.iGM(a=e.CRH())&&(r.myForm=a.first)}},decls:39,vars:6,consts:[[1,"vh-100",2,"background-color","#111010"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col","col-xl-10"],[1,"card",2,"border-radius","1rem"],[1,"row","g-0"],[1,"col-md-6","col-lg-5","d-none","d-md-block"],["src","https://res.cloudinary.com/df7eewfeo/image/upload/v1676498678/login_vnvig4.jpg","alt","login form","id","imagen",1,"img-fluid",2,"border-radius","1rem 0 0 1rem"],[1,"col-md-6","col-lg-7","d-flex","align-items-center"],[1,"card-body","p-4","p-lg-5","text-black"],["autocomplete","off",3,"ngSubmit"],["myForm","ngForm"],[1,"d-flex","align-items-center","mb-3","pb-1"],["aria-hidden","true",1,"fa","fa-trophy","fa-2x"],[1,"h1","fw-bold","mb-0"],[1,"fw-normal","mb-3","pb-3",2,"letter-spacing","1px"],[1,"form-outline","mb-4"],["type","text","id","username","name","username","minlength","3",1,"form-control","form-control-lg",3,"ngModel"],["for","form2Example17",1,"form-label"],["class","form-text text-danger",4,"ngIf"],["type","password","id","password","name","password",1,"form-control","form-control-lg",3,"ngModel","keyup","ngModelChange"],["for","form2Example27",1,"form-label"],[1,"pt-1","mb-4"],["type","submit",1,"btn","btn-dark","btn-lg","btn-block",3,"disabled"],[1,"mb-5","pb-lg-2",2,"color","#393f81"],[2,"color","#393f81",3,"routerLink"],["href","#!",1,"small","text-muted"],[1,"form-text","text-danger"]],template:function(o,r){if(1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"div",9)(10,"form",10,11),e.NdJ("ngSubmit",function(){return r.save()}),e.TgZ(12,"div",12),e._UZ(13,"i",13),e.TgZ(14,"span",14),e._uU(15,"Vidactiva"),e.qZA()(),e.TgZ(16,"h5",15),e._uU(17,"Sign into your account"),e.qZA(),e.TgZ(18,"div",16),e._UZ(19,"input",17),e.TgZ(20,"label",18),e._uU(21,"Username"),e.qZA(),e.YNc(22,b,2,0,"span",19),e.qZA(),e.TgZ(23,"div",16)(24,"input",20),e.NdJ("keyup",function(){return r.validatePasswordModerate()})("ngModelChange",function(d){return r.password=d}),e.qZA(),e.TgZ(25,"label",21),e._uU(26,"Password"),e.qZA(),e.YNc(27,U,2,0,"span",19),e.qZA(),e.TgZ(28,"div",22)(29,"button",23),e._uU(30,"Login"),e.qZA()(),e.TgZ(31,"p",24),e._uU(32,"Don't have an account? "),e.TgZ(33,"a",25),e._uU(34,"Register here"),e.qZA()(),e.TgZ(35,"a",26),e._uU(36,"Terms of use."),e.qZA(),e.TgZ(37,"a",26),e._uU(38,"Privacy policy"),e.qZA()()()()()()()()()()),2&o){const a=e.MAs(11);e.xp6(22),e.Q6J("ngIf",r.notValid("username")),e.xp6(2),e.Q6J("ngModel",r.password),e.xp6(3),e.Q6J("ngIf",r.isValid),e.xp6(2),e.Q6J("disabled",a.invalid),e.xp6(4),e.Q6J("routerLink",e.DdM(5,x))}},dependencies:[p.O5,m.yS,n._Y,n.Fj,n.JJ,n.JL,n.wO,n.On,n.F],styles:['section[_ngcontent-%COMP%]{padding-top:3%}.fontawesomeicon[_ngcontent-%COMP%]:before{display:inline-block;text-rendering:auto;-webkit-font-smoothing:antialiased}.Dumbbell[_ngcontent-%COMP%]:before{font:var(--fa-font-solid);content:" \\f44b"}']}),t})();function y(t,i){1&t&&(e.TgZ(0,"span",29),e._uU(1," Invalid User "),e.qZA())}function A(t,i){1&t&&(e.TgZ(0,"span",29),e._uU(1," Invalid Name "),e.qZA())}function C(t,i){1&t&&(e.TgZ(0,"span",29),e._uU(1," Invalid Email "),e.qZA())}function q(t,i){1&t&&(e.TgZ(0,"span",29),e._uU(1," Invalid password "),e.qZA())}let w=(()=>{class t{constructor(o,r,a){this.fb=o,this.userService=r,this.route=a,this.myForm=this.fb.group({username:["",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(12)]],first_name:["",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(12)]],email:["",n.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")],password:["",n.kI.pattern("^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\\D*\\d)[A-Za-z\\d!$%@#\xa3\u20ac*?&]{8,}$")],rpassword:[""],check:[!1,n.kI.requiredTrue]})}ngOnInit(){}notValidField(o){return this.myForm.controls[o].errors&&this.myForm.controls[o].touched}passwordValidator(){return()=>{const o=this.myForm.get("password")?.value,r=this.myForm.get("repeat_password")?.value;return o!==r?{isValid:!1}:null}}save(){this.myForm.invalid?this.myForm.markAllAsTouched():(this.userService.register(this.myForm?.controls.username.value,this.myForm?.controls.password.value,this.myForm?.controls.email.value,this.myForm?.controls.first_name.value).subscribe({next:o=>{c().fire("Good job!","You registed correctly!","success").then(r=>{r.isConfirmed&&this.route.navigate(["/"])})},error:o=>{this.myForm.reset({}),c().fire({icon:"error",title:"Oops...",text:"User already exist!"})}}),console.log(this.myForm.value))}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(n.qu),e.Y36(u.f),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:51,vars:5,consts:[[1,"vh-100","bg-image",2,"background-color","#111010"],[1,"mask","d-flex","align-items-center","gradient-custom-3"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-9","col-lg-7","col-xl-6"],[1,"card",2,"border-radius","15px"],[1,"card-body","p-5"],[1,"text-uppercase","text-center","mb-5"],["autocomplete","off",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["for","form3Example1cg",1,"form-label"],["type","text","id","form3Example1cg","formControlName","username",1,"form-control","form-control-lg"],["class","form-text text-danger",4,"ngIf"],["for","form3Example2cg",1,"form-label"],["type","text","id","form3Example2cg","formControlName","first_name",1,"form-control","form-control-lg"],["for","form3Example3cg",1,"form-label"],["type","email","id","form3Example3cg","formControlName","email",1,"form-control","form-control-lg"],["for","form3Example4cg",1,"form-label"],["type","password","id","pass1","formControlName","password",1,"form-control","form-control-lg"],["id","pass2","formControlName","rpassword","type","password","placeholder","","for","form3Example4cg","required","",1,"form-control","form-control-lg"],["hidden","true","id","error"],[1,"form-check","d-flex","mb-5"],["type","checkbox","value","","formControlName","check","id","form2Example3cg",1,"form-check-input","me-2"],["for","form2Example3g",1,"form-check-label"],["href","#!",1,"text-body"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-dark","btn-block","btn-lg","gradient-custom-4"],[1,"text-center","text-muted","mt-5","mb-0"],["href","/login",1,"fw-bold","text-body"],[1,"form-text","text-danger"]],template:function(o,r){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),e._uU(8,"Create an account"),e.qZA(),e.TgZ(9,"form",8),e.NdJ("ngSubmit",function(){return r.save()}),e.TgZ(10,"div",9)(11,"label",10),e._uU(12,"Your Username"),e.qZA(),e._UZ(13,"input",11),e.YNc(14,y,2,0,"span",12),e.qZA(),e.TgZ(15,"div",9)(16,"label",13),e._uU(17,"Your First Name"),e.qZA(),e._UZ(18,"input",14),e.YNc(19,A,2,0,"span",12),e.qZA(),e.TgZ(20,"label",15),e._uU(21,"Your Email"),e.qZA(),e.TgZ(22,"div",9),e._UZ(23,"input",16),e.YNc(24,C,2,0,"span",12),e.qZA(),e.TgZ(25,"label",17),e._uU(26,"Password"),e.qZA(),e.TgZ(27,"div",9),e._UZ(28,"input",18),e.YNc(29,q,2,0,"span",12),e.qZA(),e.TgZ(30,"div",9)(31,"label",17),e._uU(32," Repeat Password"),e.qZA(),e._UZ(33,"input",19),e.TgZ(34,"span",20),e._uU(35,"La contrasena no coincide"),e.qZA()(),e.TgZ(36,"div",21),e._UZ(37,"input",22),e.TgZ(38,"label",23),e._uU(39," I agree all statements in "),e.TgZ(40,"a",24)(41,"u"),e._uU(42,"Terms of service"),e.qZA()()()(),e.TgZ(43,"div",25)(44,"button",26),e._uU(45,"Register"),e.qZA()(),e.TgZ(46,"p",27),e._uU(47," Have already an account? "),e.TgZ(48,"a",28)(49,"u"),e._uU(50,"Login here"),e.qZA()()()()()()()()()()()),2&o&&(e.xp6(9),e.Q6J("formGroup",r.myForm),e.xp6(5),e.Q6J("ngIf",r.notValidField("username")),e.xp6(5),e.Q6J("ngIf",r.notValidField("first_name")),e.xp6(5),e.Q6J("ngIf",r.notValidField("email")),e.xp6(5),e.Q6J("ngIf",r.notValidField("password")))},dependencies:[p.O5,n._Y,n.Fj,n.Wl,n.JJ,n.JL,n.Q7,n.sg,n.u],styles:["section[_ngcontent-%COMP%]{padding-top:3.3%}"]}),t})();var l=s(7155),f=s(6308),g=s(2778);function k(t,i){1&t&&(e.TgZ(0,"mat-header-cell",21),e._uU(1," Username "),e.qZA())}function F(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.username," ")}}function I(t,i){1&t&&(e.TgZ(0,"mat-header-cell",21),e._uU(1," First Name "),e.qZA())}function N(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.first_name," ")}}function L(t,i){1&t&&(e.TgZ(0,"mat-header-cell",21),e._uU(1," email "),e.qZA())}function Y(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.email," ")}}function J(t,i){1&t&&(e.TgZ(0,"mat-header-cell",21),e._uU(1," role "),e.qZA())}function S(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=i.$implicit;e.xp6(1),e.hij(" ",o.role," ")}}function Q(t,i){1&t&&e._UZ(0,"mat-header-cell")}function M(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"mat-cell")(1,"button",22),e.NdJ("click",function(){const d=e.CHM(o).$implicit,de=e.oxw();return e.KtG(de.delete(d.username))}),e._uU(2," Delete "),e.qZA()()}}function E(t,i){1&t&&e._UZ(0,"mat-header-cell")}const V=function(t){return["/user/update",t]};function R(t,i){if(1&t&&(e.TgZ(0,"mat-cell")(1,"a",3)(2,"button",23),e._uU(3," Update "),e.qZA()()()),2&t){const o=i.$implicit;e.xp6(1),e.Q6J("routerLink",e.VKq(1,V,o.username))}}function O(t,i){1&t&&e._UZ(0,"mat-header-row")}function D(t,i){1&t&&e._UZ(0,"mat-row")}const j=function(){return["/user/add"]},z=function(){return[5,10,25]};let P=(()=>{class t{constructor(o){this.userService=o,this.articles=[],this.error=!0,this.displayedColumns=["username","name","email","role","button","button2"],this.filterValue=""}ngOnInit(){this.articleList()}applyFilter(){this.filterValue=this.filterValue.trimStart(),this.filterValue=this.filterValue.toLowerCase(),this.dataSource.filter=this.filterValue}articleList(){this.userService.userList().subscribe({next:o=>{this.dataSource=new l.by(o.content),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,console.log(this.dataSource)}})}delete(o){const r=c().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});r.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, cancel!",reverseButtons:!0}).then(a=>{a.isConfirmed?(this.userService.deleteUser(o).subscribe({next:d=>{}}),r.fire("Deleted!","Your file has been deleted.","success").then(()=>{window.location.reload()})):a.dismiss===c().DismissReason.cancel&&r.fire("Cancelled","Your file is safe :)","error")})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-list"]],viewQuery:function(o,r){if(1&o&&(e.Gf(g.NW,5),e.Gf(f.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(r.paginator=a.first),e.iGM(a=e.CRH())&&(r.sort=a.first)}},inputs:{filterValue:"filterValue"},decls:31,vars:8,consts:[[1,"container"],[1,"arriba"],[1,"boton"],[3,"routerLink"],["type","button",1,"btn","btn-success"],[1,"example-header"],["placeholder","Filter",3,"ngModel","keyup","ngModelChange"],[1,"example-container","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","username"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","button"],[4,"matHeaderCellDef"],["matColumnDef","button2"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSizeOptions"],["mat-sort-header",""],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-warning"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"button",4),e._uU(5,"Add user"),e.qZA()()(),e.TgZ(6,"div",5)(7,"input",6),e.NdJ("keyup",function(){return r.applyFilter()})("ngModelChange",function(d){return r.filterValue=d}),e.qZA()()(),e.TgZ(8,"div",7)(9,"mat-table",8),e.ynx(10,9),e.YNc(11,k,2,0,"mat-header-cell",10),e.YNc(12,F,2,1,"mat-cell",11),e.BQk(),e.ynx(13,12),e.YNc(14,I,2,0,"mat-header-cell",10),e.YNc(15,N,2,1,"mat-cell",11),e.BQk(),e.ynx(16,13),e.YNc(17,L,2,0,"mat-header-cell",10),e.YNc(18,Y,2,1,"mat-cell",11),e.BQk(),e.ynx(19,14),e.YNc(20,J,2,0,"mat-header-cell",10),e.YNc(21,S,2,1,"mat-cell",11),e.BQk(),e.ynx(22,15),e.YNc(23,Q,1,0,"mat-header-cell",16),e.YNc(24,M,3,0,"mat-cell",11),e.BQk(),e.ynx(25,17),e.YNc(26,E,1,0,"mat-header-cell",16),e.YNc(27,R,4,3,"mat-cell",11),e.BQk(),e.YNc(28,O,1,0,"mat-header-row",18),e.YNc(29,D,1,0,"mat-row",19),e.qZA(),e._UZ(30,"mat-paginator",20),e.qZA()()),2&o&&(e.xp6(3),e.Q6J("routerLink",e.DdM(6,j)),e.xp6(4),e.Q6J("ngModel",r.filterValue),e.xp6(2),e.Q6J("dataSource",r.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(7,z)))},dependencies:[m.yS,n.Fj,n.JJ,n.On,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,g.NW,f.YE,f.nU],styles:[".arriba[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.boton[_ngcontent-%COMP%]{margin-bottom:5px}"]}),t})();var Z=s(1816);function B(t,i){1&t&&(e.TgZ(0,"span",20),e._uU(1," Invalid User "),e.qZA())}function G(t,i){1&t&&(e.TgZ(0,"span",20),e._uU(1," Invalid Name "),e.qZA())}function $(t,i){1&t&&(e.TgZ(0,"label",21),e._uU(1,"Role"),e.qZA())}function H(t,i){1&t&&(e.TgZ(0,"div",22)(1,"div",23),e._UZ(2,"input",24),e.TgZ(3,"label",25),e._uU(4," User "),e.qZA()(),e.TgZ(5,"div",23),e._UZ(6,"input",26),e.TgZ(7,"label",27),e._uU(8," Admin "),e.qZA()()())}function X(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div")(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2",8),e._uU(9,"Update Profile"),e.qZA(),e.TgZ(10,"form",9),e.NdJ("ngSubmit",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.save())}),e.TgZ(11,"div",10)(12,"label",11),e._uU(13,"Username"),e.qZA(),e._UZ(14,"input",12),e.YNc(15,B,2,0,"span",13),e.qZA(),e.TgZ(16,"div",10)(17,"label",14),e._uU(18,"First Name"),e.qZA(),e._UZ(19,"input",15),e.YNc(20,G,2,0,"span",13),e.qZA(),e.YNc(21,$,2,0,"label",16),e.YNc(22,H,9,0,"div",17),e._UZ(23,"br"),e.TgZ(24,"div",18)(25,"button",19),e._uU(26,"Add User"),e.qZA()()()()()()()()()()()}if(2&t){const o=e.oxw();e.xp6(10),e.Q6J("formGroup",o.myForm),e.xp6(5),e.Q6J("ngIf",o.notValidField("username")),e.xp6(5),e.Q6J("ngIf",o.notValidField("first_name")),e.xp6(1),e.Q6J("ngIf",o.username!=o.token.sub),e.xp6(1),e.Q6J("ngIf",o.username!=o.token.sub)}}let W=(()=>{class t{constructor(o,r,a,d){this.fb=o,this.userService=r,this.activatedRoute=a,this.route=d,this.myForm=this.fb.group({username:["",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(12)]],first_name:["",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(12)]],role:["USER",n.kI.required]})}ngOnInit(){this.username=this.activatedRoute.snapshot.params.id,this.token=(0,Z.Z)(localStorage.getItem("token")),this.userService.user(this.username).subscribe({next:o=>{this.myForm.setValue({username:o.username,first_name:o.first_name,role:o.role})}})}notValidField(o){return this.myForm.controls[o].errors&&this.myForm.controls[o].touched}save(){this.userService.updateUser(this.myForm?.controls.username.value,this.myForm.value).subscribe({next:o=>{c().fire("Great!","The user has been updated!","success")},error:o=>{c().fire({icon:"error",title:"Oops...",text:"Something went wrong!"})}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(n.qu),e.Y36(u.f),e.Y36(m.gz),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-update"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"vh-100","bg-image",2,"background-color","#111010"],[1,"mask","d-flex","align-items-center","gradient-custom-3"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-9","col-lg-7","col-xl-6"],[1,"card",2,"border-radius","15px"],[1,"card-body","p-5"],[1,"text-uppercase","text-center","mb-5"],["autocomplete","off",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["for","form3Example1cg",1,"form-label"],["type","text","id","form3Example1cg","formControlName","username",1,"form-control","form-control-lg"],["class","form-text text-danger",4,"ngIf"],["for","form3Example2cg",1,"form-label"],["type","text","id","form3Example2cg","formControlName","first_name",1,"form-control","form-control-lg"],["class","col-sm-3 col-form-label",4,"ngIf"],["class","col-sm-9",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-dark","btn-block","btn-lg","gradient-custom-4"],[1,"form-text","text-danger"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],[1,"form-check"],["type","radio","value","USER","id","radioUser","formControlName","role",1,"form-check-input"],["for","radioUser",1,"form-check-label"],["type","radio","value","ADMIN","id","radioAdmin","formControlName","role",1,"form-check-input"],["for","radioAdmin",1,"form-check-label"]],template:function(o,r){1&o&&e.YNc(0,X,27,5,"div",0),2&o&&e.Q6J("ngIf","USER"==r.token.role&&r.username==r.token.sub||r.token.role==r.token.role)},dependencies:[p.O5,n._Y,n.Fj,n._,n.JJ,n.JL,n.sg,n.u]}),t})();function K(t,i){1&t&&(e.TgZ(0,"span",28),e._uU(1," Invalid User "),e.qZA())}function ee(t,i){1&t&&(e.TgZ(0,"span",28),e._uU(1," Invalid Name "),e.qZA())}function te(t,i){1&t&&(e.TgZ(0,"span",28),e._uU(1," Invalid Email "),e.qZA())}function oe(t,i){1&t&&(e.TgZ(0,"span",28),e._uU(1," Invalid password "),e.qZA())}const ne=function(t){return["/user/update",t]},ie=[{path:"login",component:T},{path:"register",component:w},{path:"userList",component:P},{path:"add",component:(()=>{class t{constructor(o,r,a){this.fb=o,this.userService=r,this.route=a,this.myForm=this.fb.group({username:["",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(12)]],first_name:["",[n.kI.required,n.kI.minLength(3),n.kI.maxLength(12)]],email:["",n.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")],password:["",n.kI.pattern("^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\\D*\\d)[A-Za-z\\d!$%@#\xa3\u20ac*?&]{8,}$")],role:["USER",n.kI.required]})}ngOnInit(){}notValidField(o){return this.myForm.controls[o].errors&&this.myForm.controls[o].touched}save(){this.myForm.invalid?this.myForm.markAllAsTouched():this.userService.addUser(this.myForm.value).subscribe({next:o=>{c().fire("Good job!","You registed correctly!","success").then(r=>{r.isConfirmed&&this.route.navigate(["/"])})},error:o=>{console.log(o),console.log(this.myForm.value),c().fire({icon:"error",title:"Oops...",text:"User already exist!"})}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(n.qu),e.Y36(u.f),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-users-add"]],decls:45,vars:5,consts:[[1,"vh-100","bg-image",2,"background-color","#111010"],[1,"mask","d-flex","align-items-center","gradient-custom-3"],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-9","col-lg-7","col-xl-6"],[1,"card",2,"border-radius","15px"],[1,"card-body","p-5"],[1,"text-uppercase","text-center","mb-5"],["autocomplete","off",1,"form-horizontal",3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["for","form3Example1cg",1,"form-label"],["type","text","id","form3Example1cg","formControlName","username",1,"form-control","form-control-lg"],["class","form-text text-danger",4,"ngIf"],["for","form3Example2cg",1,"form-label"],["type","text","id","form3Example2cg","formControlName","first_name",1,"form-control","form-control-lg"],["for","form3Example3cg",1,"form-label"],["type","email","id","form3Example3cg","formControlName","email",1,"form-control","form-control-lg"],["for","form3Example4cg",1,"form-label"],["type","password","id","pass1","formControlName","password",1,"form-control","form-control-lg"],[1,"col-sm-3","col-form-label"],[1,"col-sm-9"],[1,"form-check"],["type","radio","value","USER","id","radioUser","formControlName","role",1,"form-check-input"],["for","radioUser",1,"form-check-label"],["type","radio","value","ADMIN","id","radioAdmin","formControlName","role",1,"form-check-input"],["for","radioAdmin",1,"form-check-label"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-dark","btn-block","btn-lg","gradient-custom-4"],[1,"form-text","text-danger"]],template:function(o,r){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),e._uU(8,"Create an account"),e.qZA(),e.TgZ(9,"form",8),e.NdJ("ngSubmit",function(){return r.save()}),e.TgZ(10,"div",9)(11,"label",10),e._uU(12,"Username"),e.qZA(),e._UZ(13,"input",11),e.YNc(14,K,2,0,"span",12),e.qZA(),e.TgZ(15,"div",9)(16,"label",13),e._uU(17,"First Name"),e.qZA(),e._UZ(18,"input",14),e.YNc(19,ee,2,0,"span",12),e.qZA(),e.TgZ(20,"label",15),e._uU(21,"Email"),e.qZA(),e.TgZ(22,"div",9),e._UZ(23,"input",16),e.YNc(24,te,2,0,"span",12),e.qZA(),e.TgZ(25,"label",17),e._uU(26,"Password"),e.qZA(),e.TgZ(27,"div",9),e._UZ(28,"input",18),e.YNc(29,oe,2,0,"span",12),e.qZA(),e.TgZ(30,"label",19),e._uU(31,"Role"),e.qZA(),e.TgZ(32,"div",20)(33,"div",21),e._UZ(34,"input",22),e.TgZ(35,"label",23),e._uU(36," User "),e.qZA()(),e.TgZ(37,"div",21),e._UZ(38,"input",24),e.TgZ(39,"label",25),e._uU(40," Admin "),e.qZA()()(),e._UZ(41,"br"),e.TgZ(42,"div",26)(43,"button",27),e._uU(44,"Add User"),e.qZA()()()()()()()()()()),2&o&&(e.xp6(9),e.Q6J("formGroup",r.myForm),e.xp6(5),e.Q6J("ngIf",r.notValidField("username")),e.xp6(5),e.Q6J("ngIf",r.notValidField("first_name")),e.xp6(5),e.Q6J("ngIf",r.notValidField("email")),e.xp6(5),e.Q6J("ngIf",r.notValidField("password")))},dependencies:[p.O5,n._Y,n.Fj,n._,n.JJ,n.JL,n.sg,n.u]}),t})()},{path:"update/:id",component:W},{path:"",component:(()=>{class t{constructor(o){this.userService=o}ngOnInit(){this.token=(0,Z.Z)(localStorage.getItem("token")),this.userService.user(this.token.sub).subscribe({next:o=>{this.user=o}})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(u.f))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-users"]],decls:94,vars:7,consts:[[2,"background-color","#111010"],[1,"container","py-5"],[1,"row"],[1,"col-lg-4"],[1,"card","mb-4"],[1,"card-body","text-center"],["src","https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp","alt","avatar",1,"rounded-circle","img-fluid",2,"width","150px"],[1,"my-3"],[1,"d-flex","justify-content-center","mb-2"],[3,"routerLink"],["type","button",1,"btn","btn-primary"],[1,"col-lg-8"],[1,"card-body"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9"],[1,"text-muted","mb-0"],[1,"col-md-6"],[1,"card","mb-4","mb-md-0"],[1,"mb-4"],[1,"text-primary","font-italic","me-1"],[1,"mb-1",2,"font-size",".77rem"],[1,"progress","rounded",2,"height","5px"],["role","progressbar","aria-valuenow","80","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","80%"],[1,"mt-4","mb-1",2,"font-size",".77rem"],["role","progressbar","aria-valuenow","72","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","72%"],["role","progressbar","aria-valuenow","89","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","89%"],["role","progressbar","aria-valuenow","55","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","55%"],[1,"progress","rounded","mb-2",2,"height","5px"],["role","progressbar","aria-valuenow","66","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","66%"]],template:function(o,r){1&o&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.TgZ(7,"h5",7),e._uU(8),e.qZA(),e.TgZ(9,"div",8)(10,"a",9)(11,"button",10),e._uU(12,"Edit"),e.qZA()()()()()(),e.TgZ(13,"div",11)(14,"div",4)(15,"div",12)(16,"div",2)(17,"div",13)(18,"p",14),e._uU(19,"First Name"),e.qZA()(),e.TgZ(20,"div",15)(21,"p",16),e._uU(22),e.qZA()()(),e._UZ(23,"hr"),e.TgZ(24,"div",2)(25,"div",13)(26,"p",14),e._uU(27,"Email"),e.qZA()(),e.TgZ(28,"div",15)(29,"p",16),e._uU(30),e.qZA()()(),e._UZ(31,"hr"),e.TgZ(32,"div",2)(33,"div",13)(34,"p",14),e._uU(35,"Role"),e.qZA()(),e.TgZ(36,"div",15)(37,"p",16),e._uU(38),e.qZA()()()()(),e.TgZ(39,"div",2)(40,"div",17)(41,"div",18)(42,"div",12)(43,"p",19)(44,"span",20),e._uU(45,"assigment"),e.qZA(),e._uU(46," Project Status "),e.qZA(),e.TgZ(47,"p",21),e._uU(48,"Web Design"),e.qZA(),e.TgZ(49,"div",22),e._UZ(50,"div",23),e.qZA(),e.TgZ(51,"p",24),e._uU(52,"Website Markup"),e.qZA(),e.TgZ(53,"div",22),e._UZ(54,"div",25),e.qZA(),e.TgZ(55,"p",24),e._uU(56,"One Page"),e.qZA(),e.TgZ(57,"div",22),e._UZ(58,"div",26),e.qZA(),e.TgZ(59,"p",24),e._uU(60,"Mobile Template"),e.qZA(),e.TgZ(61,"div",22),e._UZ(62,"div",27),e.qZA(),e.TgZ(63,"p",24),e._uU(64,"Backend API"),e.qZA(),e.TgZ(65,"div",28),e._UZ(66,"div",29),e.qZA()()()(),e.TgZ(67,"div",17)(68,"div",18)(69,"div",12)(70,"p",19)(71,"span",20),e._uU(72,"assigment"),e.qZA(),e._uU(73," Project Status "),e.qZA(),e.TgZ(74,"p",21),e._uU(75,"Web Design"),e.qZA(),e.TgZ(76,"div",22),e._UZ(77,"div",23),e.qZA(),e.TgZ(78,"p",24),e._uU(79,"Website Markup"),e.qZA(),e.TgZ(80,"div",22),e._UZ(81,"div",25),e.qZA(),e.TgZ(82,"p",24),e._uU(83,"One Page"),e.qZA(),e.TgZ(84,"div",22),e._UZ(85,"div",26),e.qZA(),e.TgZ(86,"p",24),e._uU(87,"Mobile Template"),e.qZA(),e.TgZ(88,"div",22),e._UZ(89,"div",27),e.qZA(),e.TgZ(90,"p",24),e._uU(91,"Backend API"),e.qZA(),e.TgZ(92,"div",28),e._UZ(93,"div",29),e.qZA()()()()()()()()()),2&o&&(e.xp6(8),e.Oqu(r.user.username),e.xp6(2),e.Q6J("routerLink",e.VKq(5,ne,r.user.username)),e.xp6(12),e.Oqu(r.user.first_name),e.xp6(8),e.Oqu(r.user.email),e.xp6(8),e.Oqu(r.user.role))},dependencies:[m.yS]}),t})()}];let ae=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(ie),m.Bz]}),t})();var se=s(3546),le=s(9549),me=s(4333);let ce=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,ae,n.u5,se.QW,l.p0,le.lN,g.TU,f.JX,me.JX,n.UX]}),t})()}}]);